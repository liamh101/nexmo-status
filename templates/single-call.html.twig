{% extends "base.html.twig" %}

{% block body %}
    <h1 class="text-center">View Call</h1>

    <div class="row">
        <div class="col-12">
            <p><strong>Call Identifier: </strong>{{ call.callIdentifier }}</p>
        </div>
        <div class="col-12">
            <p><strong>Latest Status: </strong>{{ call.latestStatus.status }}</p>
        </div>
        <div class="col-12">
            <p>
                <strong>
                    Call Start Date:
                </strong>
                {{ call.callStart | date('Y-m-d H:i:s') }}
            </p>
        </div>
        <div class="col-12">
            <p>
                <strong>
                    Call End Date:
                </strong>
                {% if call.callEnd %}
                    {{ call.callEnd | date('Y-m-d H:i:s') }}
                {% endif %}
            </p>
        </div>
        <div class="col-12">
            <p>
                <strong>
                    From Number:
                </strong>
                {{ call.fromNumber }}
            </p>
        </div>
         <div class="col-12">
            <p>
                <strong>
                    To Number:
                </strong>
                {{ call.toNumber }}
            </p>
        </div>
    </div>

    <h3 class="text-center">Events</h3>

    <table class="table table-striped">
        <thead>
            <tr>
                <th scope="col">
                    Timestamp
                </th>
                <th scope="col">
                    Direction
                </th>
                <th scope="col">
                    Status
                </th>
            </tr>
        </thead>
        <tbody>
            {% for event in call.events %}
            <tr>
                <td>
                    {{ event.timestamp |date('Y-m-d H:i:s') }}
                </td>
                <td>
                    {{ event.direction }}
                </td>
                <td>
                    {{ event.status }}
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
{% endblock %}